(this["webpackJsonpsmarttbot-challenge"]=this["webpackJsonpsmarttbot-challenge"]||[]).push([[0],{235:function(e,t,a){e.exports=a(430)},245:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},249:function(e,t,a){},251:function(e,t,a){},252:function(e,t,a){},253:function(e,t,a){},428:function(e,t,a){},429:function(e,t,a){},430:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(12),l=a.n(c),o=a(52),u=a(198),i=a(483),s=a(44),m=a(186),d=a(33),p={pairs:[],lastUpdate:""},f=Object(s.c)({dataReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SUMMARY":return Object(d.a)(Object(d.a)({},e),{},{pairs:t.payload});case"GET_CURRENT_DATE_TIME":return Object(d.a)(Object(d.a)({},e),{},{lastUpdate:t.payload});default:return e}}}),v=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,E=Object(s.e)(f,v(Object(s.a)(m.a))),h=a(101),b=a(18),g=a.n(b),N=a(24),w=a(37),y=a(16),O=(a(245),function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-logo"},r.a.createElement("img",{src:"https://www.smarttbot.com/wp-content/uploads/2018/02/sb-1.png",srcSet:"https://www.smarttbot.com/wp-content/uploads/2018/02/sb-1.png 1x",alt:"SmarttBot Logo",className:"fusion-standard-logo"})))}),j=a(468),k=(a(246),function(){return r.a.createElement("div",{className:"loading"},r.a.createElement(j.a,{className:"loading-spinner",color:"primary"}),r.a.createElement("div",{className:"loading-message"},"Wait while we load the best results for you"))}),x=a(486),C=a(475),S=a(188),R=a.n(S),_=(a(247),function(e){return r.a.createElement("div",{className:"custom-searchfilter"},r.a.createElement(x.a,{type:"search",fullWidth:!0,placeholder:"search criptocurrency pairs here...",onChange:e.searchChange,InputProps:{endAdornment:r.a.createElement(C.a,null,r.a.createElement(R.a,null))}}))}),L=a(476),T=a(474),F=a(478),A=a(482),V=a(481),P=a(477),B=a(479),U=a(485),D=a(480),M=(a(249),[{id:"rank",label:"Rank"},{id:"pairCode",label:"Pair"},{id:"currencies",label:"Currencies"},{id:"last",label:"Last",format:function(e){return I(e)}},{id:"high24hr",label:"High",format:function(e){return I(e)}},{id:"low24hr",label:"Low",format:function(e){return I(e)}},{id:"percentChange",label:"Change %",format:function(e){return(100*Number(e)).toFixed(2).replace(".",",")+"%"}},{id:"totalVolume",label:"Volume",format:function(e){return W(Number(e)).replace(".",",")}}]),I=function(e){return Number(e)>1?Number(e).toLocaleString("pt-BR"):Number(e).toFixed(6).replace(".",",")},W=function(e){return e<1e3?e.toLocaleString("pt-BR"):e>=1e3&&e<1e6?(e/1e3).toFixed(1)+"K":e>=1e6&&e<1e9?(e/1e6).toFixed(1)+"M":e>=1e9&&e<1e12?(e/1e9).toFixed(1)+"B":e>=1e12?(e/1e12).toFixed(1)+"T":void 0},q=Object(L.a)({root:{width:"100%",marginTop:30}}),K=function(e){var t=q(),a=r.a.useState(0),n=Object(w.a)(a,2),c=n[0],l=n[1],o=r.a.useState(10),u=Object(w.a)(o,2),i=u[0],s=u[1],m=function(e,t){return"rank"===e?"bold-rank":"percentChange"===e?t>0?"positive":"negative":void 0},d=function(e){if("pairCode"===e)return"clickable-link"},p=Object(y.f)();return r.a.createElement(T.a,{className:t.root},r.a.createElement(P.a,{className:t.container},r.a.createElement(F.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(B.a,null,r.a.createElement(D.a,null,M.map((function(e){return r.a.createElement(V.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth,fontWeight:"bold"}},e.label)})))),r.a.createElement(A.a,null,e.rows.slice(c*i,c*i+i).map((function(e,t){return r.a.createElement(D.a,{key:e.id,tabIndex:-1,role:"checkbox",style:t%2?{background:"#EEEEEE"}:{background:"#FFFFFF"}},M.map((function(t){var a=e[t.id];return r.a.createElement(V.a,{key:t.id,align:t.align,className:m(t.id,a)},r.a.createElement("div",{className:d(t.id),onClick:function(){return a=t.id,n=e.id,void("pairCode"===a&&p.push("/pair/"+n));var a,n}},t.format?t.format(a):a))})))}))))),r.a.createElement(U.a,{rowsPerPageOptions:[10,25,50,100],component:"div",count:e.rows.length,rowsPerPage:i,page:c,onChangePage:function(e,t){l(t)},onChangeRowsPerPage:function(e){s(+e.target.value),l(0)},hidden:e.rows.length<10}))},H=a(189),G=a.n(H),J=(a(251),function(e){var t=e.updatedAt;return r.a.createElement("div",{className:"live-update"},r.a.createElement(G.a,{color:"primary"}),r.a.createElement("div",{className:"live-text"},"Last updated: ",t))}),X=(a(252),function(e){var t=e.rows,a=e.updatedAt,n=e.onSearchChange;return r.a.createElement("div",null,t.length?r.a.createElement("div",null,r.a.createElement("div",{className:"ranking-container"},r.a.createElement("div",{className:"ranking-title"},"Most active cryptocurrency pairs"),r.a.createElement("div",{className:"help-box"},r.a.createElement(_,{searchChange:n}),r.a.createElement(J,{updatedAt:a})),r.a.createElement(K,{rows:t}))):r.a.createElement(k,null))}),Y=function(e){return Number(e)>1?Number(e).toLocaleString("pt-BR"):Number(e).toFixed(6).replace(".",",")},z=function(e){var t=Number(e);return t<1e3&&(t=t.toLocaleString("pt-BR")),t>=1e3&&t<1e6&&(t=(t/1e3).toFixed(1)+"K"),t>=1e6&&t<1e9&&(t=(t/1e6).toFixed(1)+"M"),t>=1e9&&t<1e12&&(t=(t/1e9).toFixed(1)+"B"),t.replace(".",",")},Q=(a(253),function(e){var t,a=e.pair;return r.a.createElement("div",{className:"pair-info-card"},r.a.createElement("div",null,r.a.createElement("div",{className:"column-name",style:{fontSize:16,fontWeight:"bold"}},"Rank"),r.a.createElement("div",{className:"column-value rank-value"},a.rank)),r.a.createElement("div",{className:"card-last"},Y(a.last)),r.a.createElement("div",null,r.a.createElement("div",{className:"column-name"},"High"),r.a.createElement("div",{className:"column-value"},Y(a.high24hr))),r.a.createElement("div",null,r.a.createElement("div",{className:"column-name"},"Low"),r.a.createElement("div",{className:"column-value"},Y(a.low24hr))),r.a.createElement("div",null,r.a.createElement("div",{className:"column-name"},"Change %"),r.a.createElement("div",{className:"column-value",style:{color:a.percentChange>0?"green":"red"}},(t=a.percentChange,(100*Number(t)).toFixed(2).replace(".",",")+"%"))),r.a.createElement("div",null,r.a.createElement("div",{className:"column-name"},"Base Volume"),r.a.createElement("div",{className:"column-value"},z(a.baseVolume))),r.a.createElement("div",null,r.a.createElement("div",{className:"column-name"},"Quote Volume"),r.a.createElement("div",{className:"column-value"},z(a.quoteVolume))),r.a.createElement("div",null,r.a.createElement("div",{className:"column-name"},"Total Volume"),r.a.createElement("div",{className:"column-value"},z(a.totalVolume))))}),Z=a(47),$=function(e){var t=e.data;return t.length?r.a.createElement("div",null,r.a.createElement(Z.b,{width:500,height:250,data:t,margin:{top:5,bottom:5}},r.a.createElement(Z.a,{strokeDasharray:"3 3"}),r.a.createElement(Z.f,{dataKey:"name"}),r.a.createElement(Z.g,null),r.a.createElement(Z.e,null),r.a.createElement(Z.c,null),r.a.createElement(Z.d,{type:"monotone",dataKey:e.type.toLowerCase(),stroke:e.color}))):r.a.createElement("div",{className:"center"},r.a.createElement(j.a,{className:"loading-spinner",color:"primary"}))},ee="https://poloniex.com/public?command=",te="returnTicker",ae="returnChartData&currencyPair=",ne="returnCurrencies",re=function(){var e=Object(N.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ee+te).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(N.a)(g.a.mark((function e(t,a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ee+ae+t+"&start="+a+"&end="+n+"&period=1800").then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),le=function(){var e=Object(N.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ee+ne).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=new Date;return"".concat(e.toLocaleDateString("pt-BR")," at ").concat(e.toLocaleTimeString("pt-BR"))},ue=function(){var e=Object(N.a)(g.a.mark((function e(){var t,a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([re(),le()]);case 2:return t=e.sent,a=Object(w.a)(t,2),n=a[0],r=a[1],e.abrupt("return",se(n,r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(N.a)(g.a.mark((function e(t,a,n){var r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(t,a,n);case 2:return r=e.sent,c=r.map((function(e){return t=e.date,new Date(1e3*t);var t})),e.abrupt("return",me(r,c));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),se=function(e,t){return fe(pe(de(e,t)))},me=function(e,t){for(var a=[],n=0;n<e.length;n++){var r={name:t[n].toLocaleTimeString().slice(0,-3),rate:e[n].weightedAverage,volume:e[n].volume};a.push(r)}return a},de=function(e,t){var a=[];return Object.values(e).forEach((function(n,r){var c=Object.values(t).filter((function(a){return a.id===t[Object.keys(e)[r].split("_")[0]].id}))[0].name,l=Object.values(t).filter((function(a){return a.id===t[Object.keys(e)[r].split("_")[1]].id}))[0].name,o=Number(n.baseVolume)+Number(n.quoteVolume),u=Object(d.a)(Object(d.a)({},n),{},{pairCode:Object.keys(e)[r].replace("_","/"),baseName:c,quoteName:l,currencies:c+" / "+l,totalVolume:o});a.push(u)})),a},pe=function(e){return e.sort((function(e,t){return e.totalVolume>t.totalVolume?-1:1}))},fe=function(e){var t=[];return Object.values(e).forEach((function(e,a){var n=Object(d.a)(Object(d.a)({},e),{},{rank:a+1});t.push(n)})),t},ve=(a(428),function(e){var t=e.location,a=e.pair,c=e.updatedAt,l=Object(n.useState)([]),u=Object(w.a)(l,2),i=u[0],s=u[1],m=function(){var e=Object(N.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return a=Date.now()/1e3,e.next=4,ie(t.pairCode.replace("/","_"),a-86400,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(a);case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]),a&&c&&i?r.a.createElement("div",{className:"pair-info-container"},r.a.createElement("div",null,r.a.createElement(o.b,{to:"/"},"Ranking >"),r.a.createElement(o.b,{to:t.pathname,style:{color:"#1BA39C",fontWeight:"bold"}},a.pairCode," Details")),r.a.createElement("div",{className:"title-container"},r.a.createElement("div",null,r.a.createElement("div",{className:"currencies"},a.baseName," \u2194 ",a.quoteName),r.a.createElement("div",{className:"pair-code"},a.pairCode)),r.a.createElement(J,{updatedAt:c})),r.a.createElement(Q,{pair:a}),r.a.createElement("div",{className:"center chart-group"},r.a.createElement("h3",{className:"chart-group-title"},"Average rate and volume in the past 24h"),r.a.createElement("div",{className:"charts"},r.a.createElement($,{data:i,type:"Rate",color:"purple"}),r.a.createElement($,{data:i,type:"Volume",color:"orange"})))):r.a.createElement("div",{className:"center"},r.a.createElement(j.a,{className:"loading-spinner",color:"primary"}))});var Ee=Object(h.b)((function(e){return{pairs:e.dataReducer.pairs,lastUpdate:e.dataReducer.lastUpdate}}),(function(e){return{setPairs:function(t){return e({type:"SET_SUMMARY",payload:t})},setUpdated:function(t){return e({type:"GET_CURRENT_DATE_TIME",payload:t})}}}))((function(e){var t=e.pairs,a=e.lastUpdate,c=e.setPairs,l=e.setUpdated,o=Object(n.useState)(""),u=Object(w.a)(o,2),i=u[0],s=u[1];Object(n.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(N.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:t=e.sent,a=oe(),c(t),l(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e(),setInterval((function(){e()}),6e4)}),[]);var m=function(e){s(e.target.value)},d=t.filter((function(e){return e.pairCode.toLowerCase().includes(i.toLowerCase())||e.currencies.toLowerCase().includes(i.toLowerCase())}));return r.a.createElement("div",{className:"app"},r.a.createElement(O,null),r.a.createElement(y.c,null,r.a.createElement(y.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(X,Object.assign({},e,{rows:d,updatedAt:a,onSearchChange:m}))}}),r.a.createElement(y.a,{path:"/pair/:pairId",render:function(e){return r.a.createElement(ve,Object.assign({},e,{pair:(n=e.match.params.pairId,t.filter((function(e){return e.id.toString()===n.toString()}))[0]),updatedAt:a}));var n}})))})),he=(a(429),Object(u.a)({palette:{primary:{main:"#1BA39C"}}}));l.a.render(r.a.createElement(h.a,{store:E},r.a.createElement(o.a,null,r.a.createElement(i.a,{theme:he},r.a.createElement(Ee,null)))),document.getElementById("root"))}},[[235,1,2]]]);
//# sourceMappingURL=main.da34db4c.chunk.js.map